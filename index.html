<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>안전자격증 단어카드</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="app-header">
    <div class="app-header__inner">
      <div class="app-header__titles">
        <h1 class="app-title">안전자격증 단어카드</h1>
        <p class="app-subtitle">이미지 기반 안전 용어 암기 웹앱</p>
      </div>
    </div>
  </header>

  <main class="app-main" id="app">
    <!-- 홈 화면 -->
    <section id="homeScreen" class="screen screen--active" aria-label="카테고리 선택 화면">
      <p class="home-intro">학습할 카테고리를 선택하세요.</p>
      <div class="category-grid" role="list">
        <button class="category-card" type="button" data-category="산업안전보건법">
          <span class="category-card__title">산업안전보건법</span>
          <span class="category-card__subtitle">법령/조항 위주</span>
        </button>
        <button class="category-card" type="button" data-category="산업안전일반">
          <span class="category-card__title">산업안전일반</span>
          <span class="category-card__subtitle">기초 이론/용어</span>
        </button>
        <button class="category-card" type="button" data-category="기업진단지도">
          <span class="category-card__title">기업진단지도</span>
          <span class="category-card__subtitle">사례/지도 중심</span>
        </button>
      </div>
    </section>

    <!-- 카테고리 화면 -->
    <section id="categoryScreen" class="screen" aria-label="단어카드 목록 화면" hidden>
      <header class="category-header">
        <button id="backToHomeBtn" class="icon-button" type="button" aria-label="카테고리 선택 화면으로 돌아가기">
          ←
        </button>
        <h2 id="categoryTitle" class="category-header__title"></h2>
        <button id="openManageModalBtn" class="secondary-button" type="button">
          관리
        </button>
      </header>

      <section class="category-body" aria-live="polite">
        <p id="emptyState" class="empty-state" hidden>
          아직 등록된 카드가 없습니다. <strong>관리</strong> 버튼으로 카드를 추가해 보세요.
        </p>
        <div id="termGrid" class="term-grid" role="list"></div>
      </section>
    </section>

    <!-- 학습 모드 오버레이 -->
    <section
      id="learningOverlay"
      class="learning-overlay"
      role="dialog"
      aria-modal="true"
      aria-hidden="true"
      aria-label="학습 모드"
    >
      <div class="learning-overlay__backdrop" data-learning-overlay-close></div>
      <div class="learning-content">
        <header class="learning-header">
          <button
            id="closeLearningBtn"
            class="icon-button learning-header__close"
            type="button"
            aria-label="학습 모드 닫기"
          >
            ✕
          </button>
          <div id="learningCounter" class="learning-counter">0/0</div>
        </header>

        <div class="learning-card" aria-live="polite">
          <figure class="learning-figure">
            <img id="learningImage" class="learning-image" alt="">
          </figure>
          <p id="learningTerm" class="learning-term"></p>
        </div>

        <div class="learning-controls">
          <button id="prevCardBtn" class="secondary-button learning-controls__button" type="button">
            이전
          </button>
          <button id="toggleTermBtn" class="primary-button learning-controls__button" type="button">
            용어 보기
          </button>
          <button id="nextCardBtn" class="secondary-button learning-controls__button" type="button">
            다음
          </button>
        </div>
      </div>
    </section>

    <!-- 관리 모달 -->
    <div
      id="manageModal"
      class="modal"
      role="dialog"
      aria-modal="true"
      aria-hidden="true"
      aria-labelledby="manageModalTitle"
    >
      <div class="modal-backdrop" data-modal-close></div>
      <div class="modal-dialog" role="document">
        <header class="modal-header">
          <h2 id="manageModalTitle" class="modal-title">카드 관리</h2>
          <button
            id="closeManageModalBtn"
            class="icon-button"
            type="button"
            aria-label="카드 관리 모달 닫기"
            data-focus-return
          >
            ✕
          </button>
        </header>

        <div class="modal-body">
          <form id="addTermForm" class="term-form">
            <div class="form-field">
              <label for="termInput">용어명</label>
              <input
                id="termInput"
                name="term"
                type="text"
                required
                autocomplete="off"
                placeholder="예: 안전관리책임자"
              />
            </div>

            <div class="form-field">
              <label for="imageInput">이미지 파일</label>
              <input
                id="imageInput"
                name="image"
                type="file"
                accept="image/*"
                required
              />
            </div>

            <button type="submit" class="primary-button term-form__submit">
              추가
            </button>
          </form>

          <section class="manage-list-section" aria-label="등록된 카드 목록">
            <header class="manage-list-header">
              <h3>등록된 카드</h3>
              <p class="manage-list-count">
                총 <span id="manageCount">0</span>개
              </p>
            </header>
            <ul id="manageList" class="manage-list"></ul>
          </section>
        </div>
      </div>
    </div>
  </main>

  <footer class="app-footer">
    <small>데이터는 이 브라우저의 LocalStorage에만 저장되며, 다른 기기와는 자동으로 동기화되지 않습니다.</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>

